# CYOA Semantic Search

Поисковый движок для CYOA.cafe.

## Быстрый старт (Локально)

1. **Установка:** `pip install -r requirements.txt`
2. **Настройка:** Создай `.env` (см. `config.py` какие ключи нужны).
3. **Запуск менеджера:** `python manage.py`

В менеджере выбери пункт **9**, чтобы скачать игры, тексты и создать индекс с нуля.
Затем пункт **S**, чтобы запустить сайт.

## Структура

*   `manage.py` — Главный пульт управления.
*   `main.py` — Веб-сервер (API + UI).
*   `config.py` — Все настройки путей и ключей.
*   `sync_with_pocketbase.py` — Шаг 1: Качает метаданные.
*   `fetch_game_text.py` — Шаг 2: Качает тексты (Selenium).
*   `process_static_cyoa.py` — Шаг 3: OCR для картинок.
*   `generate_summary.py` — Шаг 4: Генерирует AI описания.
*   `indexer.py` — Шаг 5: Создает поисковый индекс Faiss.

## Деплой

Запустить `./deploy.sh`. Он обновит код на сервере и перезапустит сервис.
Данные (базу и индекс) лучше обновлять через `upload_data.sh` (если ты генерировал их локально).